# Симуляция Виртуальной Файловой Системы

Этот проект симулирует виртуальную файловую систему с использованием библиотеки Python `zipfile`. Он предоставляет базовый интерфейс командной строки для управления каталогами и файлами внутри архива `.zip`, имитируя простую терминальную среду.

Кроме того, программа записывает каждое действие пользователя в лог-файл в формате XML.

## Особенности

- **Список содержимого (`ls`)**: Отображает файлы и каталоги в текущем виртуальном каталоге.
- **Переход в каталог (`cd`)**: Переход между каталогами.
  - Поддерживает переход к родительскому каталогу (`cd -`).
- **Удаление каталога (`rmdir`)**: Удаляет пустой каталог из архива.
- **Вывод календаря (`cal`)**: Выводит календарь текущего месяца.
- **Выход из программы (`exit`)**: Завершает симуляцию.
- **Логирование действий**: Каждое действие пользователя записывается в лог-файл в формате XML.

## Детали реализации

### Основные компоненты

1. **Виртуальная файловая система**:
   - Все файлы и каталоги управляются внутри архива `.zip` (`files.zip`).
   - Файлы представлены с их путями, что сохраняет структуру каталогов.

2. **Навигация по каталогам**:
   - `current_dir` отслеживает текущий каталог пользователя.
   - Команды динамически обновляют `current_dir`, чтобы перемещаться по виртуальной файловой системе.

3. **Работа с файлами**:
   - Файлы и каталоги хранятся в памяти для эффективных операций.
   - Операции такие как `ls`, `cd` и `rmdir` запрашивают и обновляют список файлов в памяти.

4. **Логирование**:
   - Все действия пользователя записываются в лог-файл в формате XML.
   - Лог сохраняется в файл `log.xml` и содержит информацию о времени, выполняемой команде, ее параметрах и результате.

### Формат логирования

Каждое действие пользователя записывается в файл `log.xml` в следующем формате:

```
<?xml version="1.0" ?>
<log>
<action>
<timestamp>2024-11-25 11:43:25.518473</timestamp>
<command>ls</command>
<parameters>None</parameters>
<result>Success</result>
</action>
<action>
<timestamp>2024-11-25 11:43:32.289779</timestamp>
<command>cd</command>
<parameters>['deskk']</parameters>
<result>Success</result>
</action>
</log>
```

### Описание Команд

- **`ls`**:
  Показывает уникальные файлы и директории в текущей директории.

- **`cd`**:
  - Переходит в поддиректорию, если она существует.
  - Возвращается в родительскую директорию с помощью `cd -`.

- **`rmdir`**:
  - Удаляет директорию, если она пуста.
  - Обновляет архив, перезаписывая его без удалённой директории.

- **`cal`**:
  Отображает календарь текущего месяца с помощью модуля Python `calendar`.

## Использование

1. Убедитесь, что у вас установлен Python версии 3.10 или выше.
2. Сохраните скрипт в файл с расширением `.py` (например, `vfs_simulation.py`).
3. Создайте пустой архив `files.zip` в той же директории, где находится скрипт.
4. Запустите скрипт:

   ```
   python vfs_simulation.py
   ```

5. Используйте команды для навигации и управления виртуальной файловой системой.

## Пример Сессии

```
MyComputer $ ls
deskk
Documents

MyComputer $ cd deskk
MyComputer deskk/$ ls
12

MyComputer deskk/$ cd 12
MyComputer deskk/12/$ ls
123

MyComputer deskk/12/$ rmdir 123
Директория '123' удалена.

MyComputer deskk/12/$ ls
Нет файлов/папок в текущей директории.
```

---

Приятного использования виртуальной файловой системы!
